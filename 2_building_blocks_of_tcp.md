TCP(transmission control protocol)은 신뢰성 없는 채널들 사이의 네트워크 신뢰성을 보장하기 위한 추상화를 제공한다. TCP 스트림을 사용한다는 것은 전송된 모든 바이트가 수신한 바이트랑 순서와 내용이 같다는 것을 보장한다는 것이다.

3-way handshake
=
모든 TCP 커넥션은 3-way handshake과 함께 시작한다.
이 과정은 비용이 나간다. 그래서 커넥션을 재활용하는 것이 TCP를 사용하는 어플리케이션들의 최적화에 중요한 요소이다.

혼잡 회피와 제어
=
패킷의 왕복시간이 어플리케이션에 대기 시간보다 길어지면, 어플리케이션은 패킷을 재전송하게되고 이는 네트워크 혼잡을 유발한다.

흐름 제어
=
흐름 제어는 수신자가 감당할 수 있는 수준을 넘어(감당할 수 없을 때) 데어터를 전송하는 것을 제어하는 것이다.

예를 들면 커넥션이 처음 맺어지면 양측은 rwnd(receive window)를 초기화한다. 웹페이지를 로드하면 서버에서 클라이언트로 많은 데이터를 보낼 것이고, 혹은 반대로 클라이언트에서 서버로 데이터를 보낼 것이다. 이때 데이터가 너무 많다면 rwnd는 장애요소가 될 수 있다. 이런 경우에는 상대측에 rwnd가 작아졌다는 것을 공지하고, 마침내 0이 된다면 더이상 여유가 없다는 것을 의미한다. 이 과정은 TCP 전반에 거쳐 일어난다. 각각의 ACK 패킷은 양측의 최근 rwnd을 가지고 있다.

하지만 여기서 문제가 발생한다. 클라이언트와 서버는 서로의 수용가능한 데이터의 양을 알 수 있다. 하지만 네트워크가 감당가능한 대역폭은 알 수 없다.
그래서 이것을 예상하고 조절할 수 있는 알고리즘이 필요하다. 이를 예상하는 유일한 방법은 실제로 데이터를 주고 받는 것이다. 이것을 해결하는 방법이 slow-start이다. 처음에는 천천히 시작하고, 패킷을 받은 후 윈도우의 크기를 점점 두 배씩 늘리는 방법이다. 만약 패킷 손실이 일어나면 다시 윈도우의 크기를 줄인다. 당연히 이렇게 점진적으로 늘리다 한계를 만나면, 그 한계점이 최대량이라고 생각할 수 있다.

혼잡 회피
=
TCP는 패킷 손실을 이용한 피드백 메커니즘으로 퍼포먼스를 제어하는 방법이다.
패킷의 손실은 네트워크 혼잡을 의미한다.

Head-of-Line Blocking
=
순서, 정렬 등의 보장을 하기 위한 단순한 구조를 가능하게 한다.


